{"version":3,"file":"index.js","sources":["pages/home/index.vue","pages/home/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"home\">\r\n\t\t<!-- 轮播图 -->\r\n\t\t<swiper :indicator-dots=\"true\" :autoplay=\"true\" :interval=\"3000\" :duration=\"1000\" circular>\r\n\t\t\t<swiper-item v-for=\"(item,index) in swipers\" :key=\"item.image_src\">\r\n\t\t\t\t<img :src=\"item.image_src\" :alt=\"item.goods_id\" mode=\"widthFix\" lazy-load class=\"swiper-img\" />\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<!-- 导航区域 -->\r\n\t\t<view class=\"nav\">\r\n\t\t\t<view v-for=\"item in NAV_LIST\" class=\"nav-item\" :key=\"item.text\" @click.stop=\"handleNav(item)\">\r\n\t\t\t\t<view class=\"icon-box\">\r\n\t\t\t\t\t<view :class=\"{\r\n\t\t\t\t\t\ticonfont:true,\r\n\t\t\t\t\t\t[item.className]:true\r\n\t\t\t\t\t\t}\">\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"text\">{{item.text}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 推荐商品 -->\r\n\t\t<view class=\"hot-goods\">\r\n\t\t\t<view class=\"title\">\r\n\t\t\t\t推荐商品\r\n\t\t\t</view>\r\n\t\t\t<!-- 商品列表 -->\r\n\t\t\t<GoodsList :goodsList=\"goodsList\" />\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tgetCurrentInstance,\r\n\t\treactive\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\tnavList as NAV_LIST\r\n\t} from './const.js'\r\n\timport GoodsList from '../../components/goodsList/index.vue'\r\n\r\n\tconst {\r\n\t\tproxy\r\n\t} = getCurrentInstance()\r\n\r\n\t// 点击导航栏\r\n\tconst handleNav = payload => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: payload.path\r\n\t\t})\r\n\t}\r\n\r\n\r\n\t// 获取推荐商品\r\n\tconst goodsList = ref([])\r\n\tconst pageInfo = reactive({\r\n\t\tpage: 1,\r\n\t\tpageSize: 20\r\n\t})\r\n\tconst getGoodsList = () => {\r\n\t\tgoodsList.value = []\r\n\t\tproxy.$request({\r\n\t\t\turl: '/api/public/v1/goods/search',\r\n\t\t}).then(res => {\r\n\t\t\tconst _data = res?.goods || []\r\n\t\t\tgoodsList.value = goodsList.value.concat(_data)\r\n\t\t}).catch(err => {\r\n\t\t\tgoodsList.value = []\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tconst swipers = ref([])\r\n\tconst getSwipers = () => {\r\n\t\tproxy.$request({\r\n\t\t\turl: '/api/public/v1/home/swiperdata'\r\n\t\t}).then(res => {\r\n\t\t\tswipers.value = res || []\r\n\t\t}).catch(err => {\r\n\t\t\tswipers.value = []\r\n\t\t})\r\n\t}\r\n\r\n\tonLoad(() => {\r\n\t\tgetSwipers()\r\n\t\tgetGoodsList()\r\n\t})\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.home {\r\n\t\twidth: 750rpx;\r\n\t\theight: 100vh;\r\n\t\t/* #ifdef WEB */\r\n\t\theight: calc(100vh - 44px - 50px);\r\n\t\t/* #endif */\r\n\r\n\t\tswiper,\r\n\t\tswiper-item {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 380rpx;\r\n\r\n\t\t\t.swiper-img {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.nav {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 8px 0;\r\n\r\n\t\t\t.nav-item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.icon-box {\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\tbackground-color: #B50E03;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\tline-height: 120rpx;\r\n\t\t\t\t\tmargin-bottom: 6px;\r\n\r\n\t\t\t\t\t.iconfont {\r\n\t\t\t\t\t\tfont-size: 60rpx;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.text {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.hot-goods {\r\n\t\t\tbackground-color: #ececec;\r\n\t\t\tpadding: 20rpx 0;\r\n\t\t\t/* #ifdef WEB */\r\n\t\t\tpadding-bottom: 100rpx;\r\n\t\t\t/* #endif */\r\n\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t.title {\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tline-height: 100rpx;\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tcolor: #B50E03;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tletter-spacing: 40rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/wayne/Documents/MyProject/iShop/pages/home/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["getCurrentInstance","uni","ref","reactive","onLoad","MiniProgramPage"],"mappings":";;;;;;AA+CC,MAAM,YAAY,MAAW;;;;AAE7B,UAAM;AAAA,MACL;AAAA,IACA,IAAGA,iCAAoB;AAGxB,UAAM,YAAY,aAAW;AAC5BC,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK,QAAQ;AAAA,MAChB,CAAG;AAAA,IACD;AAID,UAAM,YAAYC,cAAG,IAAC,EAAE;AACPC,2BAAS;AAAA,MACzB,MAAM;AAAA,MACN,UAAU;AAAA,IACZ,CAAE;AACD,UAAM,eAAe,MAAM;AAC1B,gBAAU,QAAQ,CAAE;AACpB,YAAM,SAAS;AAAA,QACd,KAAK;AAAA,MACR,CAAG,EAAE,KAAK,SAAO;AACd,cAAM,SAAQ,2BAAK,UAAS,CAAE;AAC9B,kBAAU,QAAQ,UAAU,MAAM,OAAO,KAAK;AAAA,MACjD,CAAG,EAAE,MAAM,SAAO;AACf,kBAAU,QAAQ,CAAE;AAAA,MACvB,CAAG;AAAA,IACD;AAGD,UAAM,UAAUD,cAAG,IAAC,EAAE;AACtB,UAAM,aAAa,MAAM;AACxB,YAAM,SAAS;AAAA,QACd,KAAK;AAAA,MACR,CAAG,EAAE,KAAK,SAAO;AACd,gBAAQ,QAAQ,OAAO,CAAE;AAAA,MAC5B,CAAG,EAAE,MAAM,SAAO;AACf,gBAAQ,QAAQ,CAAE;AAAA,MACrB,CAAG;AAAA,IACD;AAEDE,kBAAAA,OAAO,MAAM;AACZ,iBAAY;AACZ,mBAAc;AAAA,IAChB,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;AC7FF,GAAG,WAAWC,SAAe;"}