{"version":3,"file":"index.js","sources":["pages/detail/index.vue","pages/detail/index.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"detail\">\r\n\t\t<!-- 轮播图 -->\r\n\t\t<swiper indicator-dots autoplay :interval=\"3000\" previous-margin=\"12rpx\" next-margin=\"12rpx\" acceleration\r\n\t\t\tclass=\"swiper-box\">\r\n\t\t\t<swiper-item v-for=\"item in detail.pics\" :key=\"item.pics_id\" class=\"swiper-item-box\">\r\n\t\t\t\t<image :src=\"item.pics_big_url\" mode=\"scaleToFill\"></image>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\r\n\t\t<!-- 价格相关 -->\r\n\t\t<view class=\"price-box\">\r\n\t\t\t<text class=\"price-text\">\r\n\t\t\t\t{{detail.goods_price}}\r\n\t\t\t</text>\r\n\t\t\t<text class=\"price-num\">\r\n\t\t\t\t库存：{{detail.goods_number}}\r\n\t\t\t</text>\r\n\t\t</view>\r\n\r\n\t\t<!-- 商品标题 -->\r\n\t\t<view class=\"title\">\r\n\t\t\t{{detail.goods_name}}\r\n\t\t</view>\r\n\r\n\t\t<!-- 属性 -->\r\n\t\t<view class=\"attrs\">\r\n\t\t\t<view class=\"attrs-item\" v-for=\"item in detail.attrs\" :key=\"item.attr_id\">\r\n\t\t\t\t<text class=\"name\">{{item.attr_name}}：</text>\r\n\t\t\t\t<text class=\"value\">{{item.attr_value}}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 详细信息 -->\r\n\t\t<view v-html=\"detail.goods_introduce\"></view>\r\n\r\n\t\t<!-- 底部导航 -->\r\n\t\t<view class=\"goods-carts\">\r\n\t\t\t<UniGoodsNav :fill=\"true\" :options=\"options\" :buttonGroup=\"buttonGroup\" @click=\"onClick\"\r\n\t\t\t\t@buttonClick=\"buttonClick\" />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonBackPress\r\n\t} from '@dcloudio/uni-app'\r\n\timport {\r\n\t\trequest\r\n\t} from '../../utils/request'\r\n\timport UniGoodsNav from '../../uni_modules/uni-goods-nav/components/uni-goods-nav/uni-goods-nav.vue'\r\n\r\n\t// 底部导航\r\n\tconst options = ref([{\r\n\t\ticon: 'chat',\r\n\t\ttext: '客服'\r\n\t}, {\r\n\t\ticon: 'shop',\r\n\t\ttext: '店铺',\r\n\t\tinfo: 2,\r\n\t\tinfoBackgroundColor: '#007aff',\r\n\t\tinfoColor: \"#f5f5f5\"\r\n\t}, {\r\n\t\ticon: 'cart',\r\n\t\ttext: '购物车',\r\n\t\tinfo: 2\r\n\t}])\r\n\tconst onClick = e => {\r\n\t\tconsole.log('onClick===>', e)\r\n\t}\r\n\tconst buttonClick = e => {\r\n\t\tconsole.log('buttonClick===>', e)\r\n\t}\r\n\r\n\t// 获取商品详情\r\n\tconst detail = ref({})\r\n\tconst getDetail = (id) => {\r\n\t\trequest({\r\n\t\t\turl: '/api/public/v1/goods/detail',\r\n\t\t\tmethod: 'get',\r\n\t\t\tdata: {\r\n\t\t\t\tgoods_id: id\r\n\t\t\t}\r\n\t\t}).then(res => {\r\n\t\t\tdetail.value = res || {}\r\n\t\t}).catch(err => {\r\n\t\t\tdetail.value = {}\r\n\t\t})\r\n\t}\r\n\r\n\tonBackPress(() => {\r\n\t\treturn false\r\n\t})\r\n\r\n\tlet urlParams = undefined\r\n\tonLoad((params) => {\r\n\t\tconsole.log('onLoad===>', params)\r\n\t\turlParams = params\r\n\r\n\t\tconst id = params.goods_id\r\n\t\tgetDetail(id)\r\n\t})\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.detail {\r\n\t\twidth: 750rpx;\r\n\t\tbackground-color: #efefef;\r\n\r\n\t\t.swiper-box {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 750rpx;\r\n\t\t\tborder-bottom: 2rpx solid #efefef;\r\n\t\t\tbackground-color: #fff;\r\n\r\n\t\t\t.swiper-item-box {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.price-box {\r\n\t\t\theight: 112rpx;\r\n\t\t\tbackground-color: #B50E03;\r\n\t\t\tpadding: 12rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\talign-items: baseline;\r\n\r\n\t\t\t.price-text {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tfont-size: 64rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: gold;\r\n\t\t\t\tmargin-left: 128rpx;\r\n\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: '会员价¥';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: -128rpx;\r\n\t\t\t\t\tbottom: 10rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.price-num {\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.title {\r\n\t\t\tpadding: 12rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tline-height: 1.25;\r\n\t\t\tcolor: #333;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin-bottom: 12rpx;\r\n\t\t}\r\n\r\n\t\t.attrs {\r\n\t\t\tpadding: 12rpx;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmargin-bottom: 12rpx;\r\n\r\n\t\t\t.attrs-item {\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tborder-bottom: 2rpx solid #efefef;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext.name {\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttext.value {\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\ttext-align: right;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.goods-carts {\r\n\t\t\t/* #ifndef APP-NVUE */\r\n\t\t\tdisplay: flex;\r\n\t\t\t/* #endif */\r\n\t\t\tflex-direction: column;\r\n\t\t\tposition: fixed;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\t/* #ifdef H5 */\r\n\t\t\tleft: var(--window-left);\r\n\t\t\tright: var(--window-right);\r\n\t\t\t/* #endif */\r\n\t\t\tbottom: 0;\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/wayne/Documents/MyProject/iShop/pages/detail/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","request","onBackPress","onLoad","MiniProgramPage"],"mappings":";;;;;;AAuDC,MAAM,cAAc,MAAW;;;;AAG/B,UAAM,UAAUA,cAAAA,IAAI,CAAC;AAAA,MACpB,MAAM;AAAA,MACN,MAAM;AAAA,IACR,GAAI;AAAA,MACF,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,MACN,qBAAqB;AAAA,MACrB,WAAW;AAAA,IACb,GAAI;AAAA,MACF,MAAM;AAAA,MACN,MAAM;AAAA,MACN,MAAM;AAAA,IACR,CAAE,CAAC;AACF,UAAM,UAAU,OAAK;AACpBC,oBAAAA,MAAY,MAAA,OAAA,gCAAA,eAAe,CAAC;AAAA,IAC5B;AACD,UAAM,cAAc,OAAK;AACxBA,oBAAAA,mDAAY,mBAAmB,CAAC;AAAA,IAChC;AAGD,UAAM,SAASD,cAAG,IAAC,EAAE;AACrB,UAAM,YAAY,CAAC,OAAO;AACzBE,4BAAQ;AAAA,QACP,KAAK;AAAA,QACL,QAAQ;AAAA,QACR,MAAM;AAAA,UACL,UAAU;AAAA,QACV;AAAA,MACJ,CAAG,EAAE,KAAK,SAAO;AACd,eAAO,QAAQ,OAAO,CAAE;AAAA,MAC3B,CAAG,EAAE,MAAM,SAAO;AACf,eAAO,QAAQ,CAAE;AAAA,MACpB,CAAG;AAAA,IACD;AAEDC,kBAAAA,YAAY,MAAM;AACjB,aAAO;AAAA,IACT,CAAE;AAGDC,kBAAM,OAAC,CAAC,WAAW;AAClBH,oBAAAA,oDAAY,cAAc,MAAM;AAGhC,YAAM,KAAK,OAAO;AAClB,gBAAU,EAAE;AAAA,IACd,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzGF,GAAG,WAAWI,SAAe;"}